# 定时器工作原理与工作模式，初值计算
定时器是一种内部资源，完成软件计时，相对于传统单片机多了1个计时器（52为3个）
## 工作原理
根据时钟输出信号，每个“一个单位时间”计数器加一，增加到指定时间时，向中断系统发送中断申请，使程序跳转到中断服务函数进行
## 工作模式
<img width="914" height="631" alt="Snipaste_2026-02-18_00-05-50" src="https://github.com/user-attachments/assets/0776a58b-f678-4663-af27-a2803dcf33dc" />

<img width="928" height="717" alt="Snipaste_2026-02-17_23-52-01" src="https://github.com/user-attachments/assets/1a723879-347f-43f3-9e78-450d58a3ac57" />

主要用工作方式1
<img width="866" height="451" alt="Snipaste_2026-02-17_23-57-06" src="https://github.com/user-attachments/assets/a8efc8e3-7d5d-4412-8eca-c3609164ca34" />

一般GATE给0；即启动不受外部中断信号影响

<img width="913" height="573" alt="Snipaste_2026-02-18_00-00-41" src="https://github.com/user-attachments/assets/5645b6af-4cdf-4b3e-83e8-f1e90fde35f2" />

<img width="914" height="631" alt="Snipaste_2026-02-18_00-05-50" src="https://github.com/user-attachments/assets/eb4d2eb3-0308-4503-8b53-c52ba14ff490" />

单位为微秒，当以毫秒为计数单位时要乘1000；定时器0把初值寄存在TH0（初值高八位）、TL0（初值低八位），定时器1在TH1、TL1
8位有自动重置初值，13、16位要手动
