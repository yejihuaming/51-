# 51单片机的基本架构
## 
1. CPU：位数为8位，工作赫兹一般为12MHZ 
2. 存储器：RAM（数据/随机存储器，512字节，运行）、ROM（程序/只读存储器、8k、存储）
3. 特殊功能寄存器（SFR）控制与管理外设；常见为p0-p0（端口寄存器）
4. C指的是天底工作电压为3.8V-5.5V
## 引脚图片:
![1](f6cb166ac15145f395fa54f20bfa82dd.png)
### Vcc：正极。Gnd/Vss：负极 XTAL：时钟计时（接晶振） RST：复位 
#### 
1. p0口（P0.0~P0.7）：三态双向口，无内部上拉，作通用 I/O 需外接上拉
2. p1口（P1.0~P1.7）：准双向口，内带上拉；通用 I/O 为主；
3. p2口（P2.0~P2.7）：准双向口，内带上拉；通用 I/O；
4. p3口（P3.0~P3.7）：准双向 + 强第二功能
##### 
| P3口引脚 | 第二功能 | 功能说明                         |
| :------- |:------- | :---------------------------     |
| P3.0     | RXD     | 串行口数据接收端                  |
| P3.1     | TXD     | 串行口数据发送端                  |
| P3.2     | INT0    | 外部中断0请求（低电平/负跳变有效） |
| P3.3     | INT1    | 外部中断1请求（低电平/负跳变有效） |
| P3.4     |  T0     | 定时器/计数器0外部计数输入         |
| P3.5     |  T1     | 定时器/计数器1外部计数输入         |
| P3.6     |  WR     | 外部RAM写选通（低电平有效）        |
| P3.7     |  RD     | 外部RAM读选通（低电平有效）        |

引脚分为4组，一组8个
## 最小系统组成：
![2](5cd3fbf889ca3ef3b1034f6cbbd48a3e.png)
### 电路拆解
1. 时钟电路：
产生时间信号控制电路，其输入端引脚为XTAL1，其输出端引脚为XTAL2。
2. 复位电路：
把电路恢复到起始状态。 必须使RST（第9引脚）加上持续两个机器周期（即24个脉冲振荡周期）以上的高电平。若时钟频率为12MHz，每个机器周期为1μs，则需要加上持续2μs以上时间的高电平。
3. 供电电路：
提供稳定的电压、
# 2月8日
## LED的原理
![3](Snipaste_2026-02-09_00-24-32.png)
尖角为负极，必须正负级接对才会发亮,必须接限流电阻，防止电流过大
## GPIO的工作原理
CPU通过寄存器接引脚连接并控制外电路，实现数字信号双向连通
## LED常亮显示
![4](Snipaste_2026-02-09_00-50-52.png)
```c
#include <REG52.H>
void main()
{
	P1=0x01;
	while(1)
	{
		
	}
}
```
# 2月9日
## LED闪烁
<video controls src="LED串联电路 - Proteus 8 Professional - 原理图绘制 2026-02-10 01-52-01.mp4" title="Title"></video>

## 阻塞延时函数
![5](Snipaste_2026-02-10_01-53-53.png)
这个函数本质为通过延迟亮灯与熄灯的频率以达到闪烁的目的；
延迟函数则是通过while循环的次数以控制延迟的时间。
# 2月10日
## LED流水灯制作
<video controls src="2026-02-11 09-28-53.mp4" title="Title"></video>

## 函数编写
```c
#include <REG52.H>
#include <intrins.h>
void Delay(int xms)	
{
	unsigned char i, j;
	while(xms){
			i = 2;
		j = 239;
		do
		{
			while (--j);
		} while (--i);
		xms--;
	}
}
void main()
{
	while(1){
		P1=0X01;
		Delay(500);
		P1=0X02;
		Delay(500);
		P1=0X04;
		Delay(500);
		P1=0X08;
		Delay(500);
		P1=0X10;
		Delay(500);
	}
}
```
# 2月11日
## 轻触按键
按下接通，松开断开，作为开关控制电路，未按下时引脚为高电平，按下后为低电平
## 软件消抖
- 原因：对于机械开关，当机械触点断开、闭合时，由于机械触点的弹性作用，断开闭合会有延时性，引发抖动
- 做法：利用延迟函数进行延迟判定

```c
#include <REGX52.H>

void Delay(int xms)	
{
	unsigned char i, j;
	while(xms){
			i = 2;
		j = 239;
		do
		{
			while (--j);
		} while (--i);
		xms--;
	}
}

void main()
{
	P1 = 0X00;
	while(1){
		if(P3_0==0){
			Delay(20);
			while(P3_0==0);
			Delay(20);
			P1_0 = ~P1_0;
		}
	}
}
```
## 按键控制
<video controls src="2026-02-12 01-02-48.mp4" title=""></video>